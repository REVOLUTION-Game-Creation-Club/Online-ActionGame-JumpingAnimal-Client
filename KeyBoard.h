// KeyBoard.h: interface for the KeyBoard class.
//
//////////////////////////////////////////////////////////////////////

/************************************************************************/
/* KeyBoard Class For Shooting Game Controll
			by Dae-Bong's Nim
/************************************************************************/
#if !defined(AFX_KEYBOARD_H__C45CFF89_F414_42C9_9386_8726AB82302B__INCLUDED_)
#define AFX_KEYBOARD_H__C45CFF89_F414_42C9_9386_8726AB82302B__INCLUDED_

#define DIRECTINPUT_VERSION 0x0800

#pragma comment(lib, "dinput8.lib")
#pragma comment(lib, "dxguid.lib")

#include<winsock2.H>
#include<DINPUT.H>
#include<BASETSD.H>

#if _MSC_VER > 1000
#pragma once
#endif // _MSC_VER > 1000

#define KEYDOWN(State, KeyID) (State[KeyID] & 0x80)

class KeyBoard  
{
	/************************************************************************/
	/* 다이렉트 인풋 구조체
	/************************************************************************/
	LPDIRECTINPUT8 g_lpDI;
	
	/************************************************************************/
	/* 다이렉트 디바이스 구조체 : 키보드
	/************************************************************************/
	LPDIRECTINPUTDEVICE8 g_lpDIKeyBoard;	
public:

	/************************************************************************/
	/* 현재 키보드의 상태를 저장해주는 구조체
	/************************************************************************/
	BYTE diks[256];

	/************************************************************************/
	/* 생성자
	/************************************************************************/
	KeyBoard();

	/************************************************************************/
	/* 소멸자
	/************************************************************************/
	virtual ~KeyBoard();

	/************************************************************************/
	/* DirectInput을 초기화 하는 함수 InitDirectInput( 윈도우 핸들 )
	/************************************************************************/
	HRESULT InitDirectInput( HWND );
	
	/************************************************************************/
	/* DirectInput의 상태를 업데이트 하는 함수 UpdateInputState( 윈도우 핸들 )
	/************************************************************************/
	HRESULT UpdateInputState( HWND );
	
	/************************************************************************/
	/* DirectInput을 해제
	/************************************************************************/
	void FreeDirectInput();

	/************************************************************************/
	/* g_lpDIKeyBoard 리턴
	/************************************************************************/
	LPDIRECTINPUTDEVICE8 GetDevice();
};

extern char status;		// KeyState

#endif // !defined(AFX_KEYBOARD_H__C45CFF89_F414_42C9_9386_8726AB82302B__INCLUDED_)
